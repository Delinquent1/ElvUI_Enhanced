<Ui xmlns="http://www.blizzard.com/wow/ui/">
	<Script file="misc.lua"/>
	<Script file="faction.lua"/>
	<Script file="paperdoll.lua"/>
	<Script file="movers.lua"/>
	<Script file="addonList.lua"/>
	<Script file="deathRecap.lua"/>
	<Script file="targetclass.lua"/>
	<Script file="questLevel.lua"/>
	<Script file="losecontrol.lua"/>
	<Script file="alreadyKnown.lua"/>
	<Script file="trainAllButton.lua"/>
	<Script file="undressButton.lua"/>

	<Script file="characterFrame.lua"/>
	<Frame name="StatGroupTemplate" virtual="true">
		<Size x="169" y="0"/>
		<Layers>
			<Layer level="BACKGROUND">
				<FontString name="$parentNameText" inherits="GameFontHighlight" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="15" y="-3"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="ARTWORK">
				<Texture name="$parentCollapsedIcon" hidden="true">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="5" y="-5"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
				<Texture name="$parentExpandedIcon">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="5" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentToolbar">
				<Anchors>
					<Anchor point="TOPLEFT"/>
					<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT">
						<Offset>
							<AbsDimension x="0" y="-20"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForDrag("LeftButton");
						self.SortUpArrow = _G[self:GetName().."SortUpArrow"]
						self.SortDownArrow = _G[self:GetName().."SortDownArrow"]
					</OnLoad>
					<OnEnter>
						if(MOVING_STAT_CATEGORY == nil) then
							self.SortDownArrow:Show();
							self.SortUpArrow:Show();
						end
					</OnEnter>
					<OnLeave>
						--[[if(not MouseIsOver(self) and MOVING_STAT_CATEGORY ~= self:GetParent()) then
							self.SortDownArrow:Hide();
							self.SortUpArrow:Hide();
						end]]
						if(MOVING_STAT_CATEGORY ~= self:GetParent()) then
							self.SortDownArrow:Hide();
							self.SortUpArrow:Hide();
						end
					</OnLeave>
					<OnClick>
						if self:GetParent().collapsed then
							PaperDollFrame_ExpandStatCategory(self:GetParent());
							ElvUI[1].db.enhanced.character.collapsedName[self:GetParent().Category] = false;
						else
							PaperDollFrame_CollapseStatCategory(self:GetParent());
							ElvUI[1].db.enhanced.character.collapsedName[self:GetParent().Category] = true;
						end
					</OnClick>
					<OnDragStart>
						PaperDollStatCategory_OnDragStart(self:GetParent());
						self.SortDownArrow:Show();
						self.SortUpArrow:Show();
					</OnDragStart>
					<OnDragStop>
						PaperDollStatCategory_OnDragStop(self:GetParent());
						--[[if(MouseIsOver(self)) then
							self.SortDownArrow:Show();
							self.SortUpArrow:Show();
						else
							self.SortDownArrow:Hide();
							self.SortUpArrow:Hide();
						end]]
					</OnDragStop>
				</Scripts>
				<Frames>
					<Button name="$parentSortUpArrow" hidden="true">
						<Size x="16" y="8"/>
						<Anchors>
							<Anchor point="TOPRIGHT">
								<Offset>
									<AbsDimension x="-1" y="-1"/>
								</Offset>
							</Anchor>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture name="$parentArrow" file="Interface\AddOns\ElvUI_Enhanced\Media\Textures\StatSortArrows" setAllPoints="true">	
									<TexCoords left="0" right="1" top="0" bottom="0.5"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self.Arrow = _G[self:GetName().."Arrow"]
								self.Arrow:SetAlpha(0.4)
							</OnLoad>
							<OnEnter>
								self:Show();
								self.Arrow:SetAlpha(0.6);
								self:GetParent().SortDownArrow:Show();
							</OnEnter>
							<OnLeave>
								self.Arrow:SetAlpha(0.4);
								--if(not MouseIsOver(self:GetParent())) then
									self:Hide();
									self:GetParent().SortDownArrow:Hide();
								--end
							</OnLeave>
							<OnClick>
								PaperDoll_MoveCategoryUp(self:GetParent():GetParent());
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentSortDownArrow" hidden="true">
						<Size x="16" y="8"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentSortUpArrow" relativePoint="BOTTOMLEFT"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture name="$parentArrow" file="Interface\AddOns\ElvUI_Enhanced\Media\Textures\StatSortArrows" setAllPoints="true">
									<TexCoords left="0" right="1" top="0.5" bottom="1"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self.Arrow = _G[self:GetName().."Arrow"]
								self.Arrow:SetAlpha(0.4)
							</OnLoad>
							<OnEnter>
								self:Show();
								self.Arrow:SetAlpha(0.6);
								self:GetParent().SortUpArrow:Show();
							</OnEnter>
							<OnLeave>
								self.Arrow:SetAlpha(0.4);
								--if(not MouseIsOver(self:GetParent())) then
									self:Hide();
									self:GetParent().SortUpArrow:Hide();
								--end
							</OnLeave>
							<OnClick>
								PaperDoll_MoveCategoryDown(self:GetParent():GetParent());
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Button>
			<Frame name="$parentStat1" inherits="StatFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="16" y="-19"/>
						</Offset>
					</Anchor>
					<Anchor point="RIGHT">
						<Offset>
							<AbsDimension x="-4" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				self.NameText = _G[self:GetName().."NameText"]
				self.CollapsedIcon = _G[self:GetName().."CollapsedIcon"]
				self.ExpandedIcon = _G[self:GetName().."ExpandedIcon"]
			</OnLoad>
		</Scripts>
	</Frame>
	
	<Button name="PlayerTitleButtonTemplate2" virtual="true">
		<Size x="169" y="22"/>
		<Anchors>
			<Anchor point="LEFT">
				<Offset x="2" y="0"/>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentStripe">
					<Anchors>
						<Anchor point="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="$parentCheck" file="Interface\Buttons\UI-CheckBox-Check">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="8" y="0"/>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture name="$parentSelectedBar" file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar" alphaMode="ADD" hidden="true"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self.Stripe = _G[self:GetName().."Stripe"]
				self.Check = _G[self:GetName().."Check"]
				self.SelectedBar = _G[self:GetName().."SelectedBar"]
				self.SelectedBar:SetAlpha(0.4)
				self.text = _G[self:GetName().."TitleText"]
			</OnLoad>
			<OnClick>
				SetCurrentTitle(self.titleId)
			</OnClick>
		</Scripts>
		<ButtonText name="$parentTitleText" inherits="GameFontNormalSmall" justifyH="LEFT">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentCheck" relativePoint="RIGHT">
					<Offset x="3" y="0"/>
				</Anchor>
				<Anchor point="RIGHT">
					<Offset x="-3" y="0"/>
				</Anchor>
			</Anchors>
		</ButtonText>
		<HighlightTexture file="Interface\AddOns\ElvUI_Enhanced\Media\Textures\UI-FriendsFrame-HighlightBar-Blue" alphaMode="ADD"/>	
	</Button>
</Ui>